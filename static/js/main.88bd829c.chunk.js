(this["webpackJsonpuk-covid"]=this["webpackJsonpuk-covid"]||[]).push([[0],{196:function(e,t,a){e.exports=a(386)},201:function(e,t,a){},206:function(e,t){},208:function(e,t){},241:function(e,t){},242:function(e,t){},386:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(77),l=a.n(o),c=(a(201),a(23)),i=a(189),s=a(40),u=a(399),d=a(401),m=a(61),p=a(37),f=a(400),h=function(e){var t=e.fileName,a=e.regionCases,o=e.setTooltipContent,l=Object(n.useState)([]),i=Object(c.a)(l,2),f=i[0],h=i[1];Object(n.useEffect)((function(){fetch("/uk-covid/maps/"+t+".json").then((function(e){200===e.status?e.json().then((function(e){h(Object(m.feature)(e,e.objects.x).features)})):console.log("There was a problem: ".concat(e.status))}))}),[t]);var g=function(e){console.log(f[e].properties.lad19nm)},y=Object(s.a)().fitSize([800,800],{type:"FeatureCollection",features:f}),E=Object(d.a)().domain([50,100,200,500,1e3,5e3]).range(u.a[7]);return r.a.createElement("div",{style:{width:"500px",height:"500px"}},r.a.createElement(p.ComposableMap,{width:800,height:800,projection:y},r.a.createElement(p.Geographies,{geography:f},(function(e){return e.geographies.map((function(e,t){return r.a.createElement(p.Geography,{key:e.rsmKey,geography:e,onMouseEnter:function(){var t=e.properties.lad19nm in a?a[e.properties.lad19nm]:"0";o("".concat(e.properties.lad19nm,": ").concat(t," Cases"))},onMouseLeave:function(){o("")},fill:e.properties.lad19nm in a?E(a[e.properties.lad19nm]):E(0),onClick:function(){return g(t)},style:{default:{outline:"none",stroke:"#000000",strokeWidth:"0.5"},hover:{outline:"none",stroke:"#000000",strokeWidth:"2"},pressed:{outline:"none"}}})}))}))))},g=r.a.memo((function(e){var t=e.setTooltipContent,a=e.areaCases,o=e.Regional,l=e.toggleDisplayRegional,g=e.secondaryTable,y=e.setSecondaryTable,E=Object(n.useState)([]),b=Object(c.a)(E,2),k=b[0],v=b[1];Object(n.useEffect)((function(){fetch("/uk-covid/maps/phe_regions.json").then((function(e){200===e.status?e.json().then((function(e){v(Object(m.feature)(e,e.objects.eer).features)})):console.log("There was a problem: ".concat(e.status))}))}),[]);var C=function(e){var t=k[e].properties.EER13NM,n=t.replace(/ /g,"_");l({display:!0,fileName:n,regionCases:a[t].regional}),y({display:!0,areaName:t})},j=Object(s.a)().fitSize([20,20],{type:"FeatureCollection",features:k}),O=Object(d.a)().domain([1e3,1500,2e3,2500,5e3,15e3]).range(u.a[7]),w=function(){return r.a.createElement("div",{style:{width:"700px",height:"700px"}},r.a.createElement(p.ComposableMap,{width:20,height:20,projection:j},r.a.createElement(p.Geographies,{geography:k},(function(e){return e.geographies.map((function(e,n){return r.a.createElement(p.Geography,{key:e.rsmKey,geography:e,onMouseEnter:function(){t("".concat(e.properties.EER13NM,": ").concat(a[e.properties.EER13NM].total," Cases"))},onMouseLeave:function(){t("")},fill:e.properties.EER13NM in a?O(a[e.properties.EER13NM].total):O(0),onClick:function(){return C(n)},style:{default:{outline:"none",stroke:"#000000",strokeWidth:"0.01"},hover:{outline:"none",stroke:"#000000",strokeWidth:"0.05"},pressed:{outline:"none"}}})}))}))))},x=function(){return r.a.createElement("div",null,r.a.createElement(f.a,{color:"primary",onClick:function(){l({display:!1}),y(Object(i.a)({},g,{display:!1}))}},"BACK"),r.a.createElement(h,{fileName:o.fileName,regionCases:o.regionCases,setTooltipContent:t}))};return r.a.createElement("div",null,o.display?r.a.createElement(x,null):r.a.createElement(w,null))})),y=a(177),E=a(389),b=a(390),k=a(391),v=a(398),C=a(392),j=r.a.memo((function(e){var t=e.areaCases,a=e.toggleDisplayRegional,o=e.secondaryTable,l=e.setSecondaryTable;Object(n.useEffect)((function(){}),[]);return r.a.createElement(E.a,null,r.a.createElement(b.a,null,r.a.createElement(v.a,{color:"info"},"Click on a row to view the numbers for each UTLA in the Region!")),r.a.createElement(b.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Region"),r.a.createElement("th",null,"Number of Cases"))),r.a.createElement("tbody",null,Object.keys(t).map((function(e){return r.a.createElement("tr",{onClick:function(){return function(e){if(o.areaName===e){if(o.display)a({display:!1});else{var n=e.replace(/ /g,"_");a({display:!0,fileName:n,regionCases:t[e].regional})}l({display:!o.display,areaName:e})}else{l({display:!0,areaName:e});var r=e.replace(/ /g,"_");a({display:!0,fileName:r,regionCases:t[e].regional})}}(e)}},r.a.createElement("td",null,e),r.a.createElement("td",null,t[e].total))}))))),r.a.createElement(k.a,null,o.display?r.a.createElement(C.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,o.areaName),r.a.createElement("th",null,"Number of Cases"))),r.a.createElement("tbody",null,0===t.length?null:Object.keys(t[o.areaName].regional).map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e),r.a.createElement("td",null,t[o.areaName].regional[e]))})))):null)))})),O=a(179),w=function(e){var t=e.borderColor,a=e.backgroundColor,n=e.date,o=e.data,l=e.label,c=e.display,i=e.height,s=e.width;return r.a.createElement("div",{style:{borderColor:t,backgroundColor:a,height:i,width:s}},r.a.createElement(O.a,{data:{labels:n,datasets:[{label:l,fill:!1,borderColor:t,data:o,display:c}]},options:{legend:{display:c},maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawOnChartArea:!1,display:c},ticks:{autoSkip:!0,maxTicksLimit:7,display:c}}],yAxes:[{gridLines:{drawOnChartArea:!1,display:c},ticks:{autoSkip:!0,maxTicksLimit:7,callback:function(e){return"".concat(e/1e3,"k")},display:c}}]}}}))},x=a(393),T=a(394),N=a(395),M=a(396),S=r.a.memo((function(e){var t=e.borderColors,a=e.backgroundColors,o=e.labels,l=e.cases;return Object(n.useEffect)((function(){}),[]),r.a.createElement(b.a,null,a.map((function(e,a){return r.a.createElement(k.a,{style:{color:t[a]}},r.a.createElement(x.a,{style:{backgroundColor:e}},r.a.createElement(T.a,null,r.a.createElement(N.a,null,o[a]),r.a.createElement(M.a,null,l[Object.keys(l)[a]].slice(-1)[0]))))})))})),R=a(181),D=a(182),A=a(187),F=a(190),_=a(183),G=a.n(_),L=Math.hypot,W=function(e){var t=e.dx,a=e.dy,n=L(t,a);return{ax:t/n,ay:a/n}},z=function(e){var t=e.dx,a=e.dy,n=e.diameter;return t*t+a*a<n*n},B=[];function K(e){var t=this;this.x=Math.floor(700*Math.random()+1),this.y=Math.floor(700*Math.random()+1),this.color="blue",this.sz=15,this.xspeed=Math.random(),this.yspeed=Math.random(),this.p5=e,this.infectedTime=0,this.update=function(){t.x+=t.xspeed,t.y+=t.yspeed},this.display=function(){if("green"===t.color&&(t.infectedTime+=1,t.infectedTime>=200)){var a=Math.floor(5*Math.random()+1);t.color=a<2?"grey":" pink"}e.fill(t.color),e.noStroke(),e.ellipse(t.x,t.y,t.sz,t.sz)},this.bounce=function(){(t.x>700||t.x<0)&&(t.xspeed*=-1),(t.y>700||t.y<0)&&(t.yspeed*=-1)},this.checkCollisions=function(e,a){for(var n=a+1;n<e.length;n++){var r=e[n],o=r.x-t.x,l=r.y-t.y;if(z({dx:o,dy:l,diameter:15})){var c=W({dx:o,dy:l}),i=c.ax,s=c.ay;t.xspeed-=i,t.yspeed-=s,r.xspeed=i,r.yspeed=s,("green"!==t.color||"blue"!==r.color&&"green"!==r.color)&&("green"!==r.color||"blue"!==t.color&&"green"!==t.color)||(t.color="green",r.color="green")}}}}var I=function(e){Object(F.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).x=50,e.y=50,e.setup=function(e,t){e.createCanvas(700,700).parent(t);for(var a=0;a<200;a++)B[a]=new K(e);B[99].color="green"},e.draw=function(t){t.background("#FFFFFF");for(var a=0;a<B.length;a++)B[a].update(),B[a].display(),B[a].bounce(),B[a].checkCollisions(B,a);e.x++},e}return Object(D.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(G.a,{setup:this.setup,draw:this.draw}),"Blue=Healthy Green=Infected Pink=Recovered Grey=Deceased (Put this inside UK's map and implement recovered and deceased)")}}]),a}(n.Component),J=["#ff073a","#3a07ff","grey"],P=["rgba(255,7,58,0.12549)","rgba(58,7,255,0.12549)","#DCDCDC"],U=["CONFIRMED","TESTED","DECEASED"],V=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),i=Object(c.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)([]),m=Object(c.a)(d,2),p=m[0],h=m[1],v=Object(n.useState)({display:!1,fileName:"",regionCases:""}),C=Object(c.a)(v,2),O=C[0],x=C[1],T=Object(n.useState)({display:!1,areaName:""}),N=Object(c.a)(T,2),M=N[0],R=N[1],D=Object(n.useState)(!1),A=Object(c.a)(D,2),F=A[0],_=A[1];return Object(n.useEffect)((function(){fetch("/uk-covid/covid_data/uk_totals.json").then((function(e){200===e.status?e.json().then((function(e){o(e)})):console.log("There was a problem: ".concat(e.status))})),fetch("/uk-covid/covid_data/uk_by_region.json").then((function(e){200===e.status?e.json().then((function(e){h(e)})):console.log("There was a problem: ".concat(e.status))}))}),[]),r.a.createElement("div",null,F?r.a.createElement("div",null,r.a.createElement(f.a,{color:"primary",onClick:function(){return _(!1)}},r.a.createElement("h4",null,"View Map")),r.a.createElement(I,null)):r.a.createElement(E.a,{"data-tip":""},r.a.createElement(b.a,null,r.a.createElement("h1",null,"England Covid-19 Tracker"),r.a.createElement(f.a,{color:"primary",onClick:function(){return _(!0)}},r.a.createElement("h4",null,"View Simulator"))),r.a.createElement(b.a,null,r.a.createElement(k.a,null,null===a?null:r.a.createElement(S,{borderColors:J,backgroundColors:P,labels:U,cases:a}),r.a.createElement(k.a,null,r.a.createElement(g,{setTooltipContent:u,areaCases:p,Regional:O,toggleDisplayRegional:x,secondaryTable:M,setSecondaryTable:R}),r.a.createElement(y.a,null,s))),r.a.createElement(k.a,null,r.a.createElement(j,{areaCases:p,toggleDisplayRegional:x,secondaryTable:M,setSecondaryTable:R}))),r.a.createElement(b.a,null,null===a?null:J.map((function(e,t){return r.a.createElement(w,{borderColor:J[t],backgroundColor:P[t],label:U[t],date:a.Date,data:a[Object.keys(a)[t]],display:!0,height:200,width:700})}))),r.a.createElement(b.a,null,r.a.createElement(f.a,{style:{backgroundColor:"White",color:"black"},onClick:function(){return window.open("https://www.github.com/tkhokhar25/uk-covid")}},r.a.createElement("img",{src:"/uk-covid/logo32.png",alt:"yolo"}),"Check out on Github"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(382);var H=a(186);l.a.render(r.a.createElement(H.a,{basename:"/uk-covid"},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[196,1,2]]]);
//# sourceMappingURL=main.88bd829c.chunk.js.map