(this["webpackJsonpuk-covid"]=this["webpackJsonpuk-covid"]||[]).push([[0],{191:function(e,a,t){e.exports=t(381)},196:function(e,a,t){},201:function(e,a){},203:function(e,a){},236:function(e,a){},237:function(e,a){},381:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),o=t(77),r=t.n(o),c=(t(196),t(26)),i=t(185),s=t(40),u=t(394),d=t(396),m=t(61),p=t(37),f=t(395),b=function(e){var a=e.fileName,t=e.regionCases,o=e.setTooltipContent,r=Object(n.useState)([]),i=Object(c.a)(r,2),f=i[0],b=i[1];Object(n.useEffect)((function(){fetch("/uk-covid/maps/"+a+".json").then((function(e){200===e.status?e.json().then((function(e){b(Object(m.feature)(e,e.objects.x).features)})):console.log("There was a problem: ".concat(e.status))}))}),[a]);var g=function(e){console.log(f[e].properties.lad19nm)},E=Object(s.a)().fitSize([800,800],{type:"FeatureCollection",features:f}),h=Object(d.a)().domain([50,100,200,500,1e3,5e3]).range(u.a[7]);return l.a.createElement("div",{style:{width:"100%"}},l.a.createElement(p.ComposableMap,{width:800,height:800,projection:E},l.a.createElement(p.Geographies,{geography:f},(function(e){return e.geographies.map((function(e,a){return l.a.createElement(p.Geography,{key:e.rsmKey,geography:e,onMouseEnter:function(){var a=e.properties.lad19nm in t?t[e.properties.lad19nm]:"0";o("".concat(e.properties.lad19nm,": ").concat(a," Cases"))},onMouseLeave:function(){o("")},fill:e.properties.lad19nm in t?h(t[e.properties.lad19nm]):h(0),onClick:function(){return g(a)},style:{default:{outline:"none",stroke:"#000000",strokeWidth:"0.5"},hover:{outline:"none",stroke:"#000000",strokeWidth:"2"},pressed:{outline:"none"}}})}))}))))},g=l.a.memo((function(e){var a=e.setTooltipContent,t=e.areaCases,o=e.Regional,r=e.toggleDisplayRegional,g=e.secondaryTable,E=e.setSecondaryTable,h=Object(n.useState)([]),y=Object(c.a)(h,2),k=y[0],C=y[1];Object(n.useEffect)((function(){fetch("/uk-covid/maps/phe_regions.json").then((function(e){200===e.status?e.json().then((function(e){C(Object(m.feature)(e,e.objects.eer).features)})):console.log("There was a problem: ".concat(e.status))}))}),[]);var j=function(e){var a=k[e].properties.EER13NM,n=a.replace(/ /g,"_");r({display:!0,fileName:n,regionCases:t[a].regional}),E({display:!0,areaName:a})},v=Object(s.a)().fitSize([20,20],{type:"FeatureCollection",features:k}),O=Object(d.a)().domain([1e3,1500,2e3,2500,5e3,15e3]).range(u.a[7]),w=function(){return l.a.createElement("div",{style:{width:"100%"}},l.a.createElement(p.ComposableMap,{width:20,height:20,projection:v},l.a.createElement(p.Geographies,{geography:k},(function(e){return e.geographies.map((function(e,n){return l.a.createElement(p.Geography,{key:e.rsmKey,geography:e,onMouseEnter:function(){a("".concat(e.properties.EER13NM,": ").concat(t[e.properties.EER13NM].total," Cases"))},onMouseLeave:function(){a("")},fill:e.properties.EER13NM in t?O(t[e.properties.EER13NM].total):O(0),onClick:function(){return j(n)},style:{default:{outline:"none",stroke:"#000000",strokeWidth:"0.01"},hover:{outline:"none",stroke:"#000000",strokeWidth:"0.05"},pressed:{outline:"none"}}})}))}))))},N=function(){return l.a.createElement("div",null,l.a.createElement(f.a,{color:"primary",onClick:function(){r({display:!1}),E(Object(i.a)({},g,{display:!1}))}},"BACK"),l.a.createElement(b,{fileName:o.fileName,regionCases:o.regionCases,setTooltipContent:a}))};return l.a.createElement("div",null,o.display?l.a.createElement(N,null):l.a.createElement(w,null))})),E=t(177),h=t(384),y=t(385),k=t(386),C=t(393),j=t(387),v=l.a.memo((function(e){var a=e.areaCases,t=e.toggleDisplayRegional,o=e.secondaryTable,r=e.setSecondaryTable;Object(n.useEffect)((function(){}),[]);return l.a.createElement(h.a,null,l.a.createElement(y.a,null,l.a.createElement(C.a,{color:"info"},"Click on a row to view the numbers for each UTLA in the Region!")),l.a.createElement(y.a,null,l.a.createElement(k.a,null,l.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Region"),l.a.createElement("th",null,"Number of Cases"))),l.a.createElement("tbody",null,Object.keys(a).map((function(e){return l.a.createElement("tr",{onClick:function(){return function(e){if(o.areaName===e){if(o.display)t({display:!1});else{var n=e.replace(/ /g,"_");t({display:!0,fileName:n,regionCases:a[e].regional})}r({display:!o.display,areaName:e})}else{r({display:!0,areaName:e});var l=e.replace(/ /g,"_");t({display:!0,fileName:l,regionCases:a[e].regional})}}(e)}},l.a.createElement("td",null,e),l.a.createElement("td",null,a[e].total))}))))),l.a.createElement(k.a,null,o.display?l.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,o.areaName),l.a.createElement("th",null,"Number of Cases"))),l.a.createElement("tbody",null,0===a.length?null:Object.keys(a[o.areaName].regional).map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e),l.a.createElement("td",null,a[o.areaName].regional[e]))})))):null)))})),O=t(179),w=function(e){var a=e.borderColor,t=e.backgroundColor,n=e.date,o=e.data,r=e.label,c=e.display,i=e.height,s=e.width;return l.a.createElement("div",{style:{borderColor:a,backgroundColor:t,height:i,width:s}},l.a.createElement(O.a,{data:{labels:n,datasets:[{label:r,fill:!1,borderColor:a,data:o,display:c}]},options:{legend:{display:c},maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawOnChartArea:!1,display:c},ticks:{autoSkip:!0,maxTicksLimit:7,display:c}}],yAxes:[{gridLines:{drawOnChartArea:!1,display:c},ticks:{autoSkip:!0,maxTicksLimit:7,callback:function(e){return"".concat(e/1e3,"k")},display:c}}]}}}))},N=t(388),T=t(389),S=t(390),R=t(391),M=l.a.memo((function(e){var a=e.borderColors,t=e.backgroundColors,o=e.labels,r=e.cases;return Object(n.useEffect)((function(){}),[]),l.a.createElement(y.a,null,t.map((function(e,n){return l.a.createElement(k.a,null,l.a.createElement(N.a,{style:{backgroundColor:e}},l.a.createElement("div",null,l.a.createElement(w,{borderColor:a[n],backgroundColor:t[n],label:o[n],date:r.Date,data:r[Object.keys(r)[n]],display:!1})),l.a.createElement(T.a,null,l.a.createElement(S.a,null,o[n]),l.a.createElement(R.a,null,r[Object.keys(r)[n]].slice(-1)[0]))))})))})),D=["#ff073a","#3a07ff","grey"],_=["rgba(255,7,58,0.12549)","rgba(58,7,255,0.12549)","#DCDCDC"],x=["Confirmed","Tested","Deceased"],A=function(){var e=Object(n.useState)(null),a=Object(c.a)(e,2),t=a[0],o=a[1],r=Object(n.useState)(""),i=Object(c.a)(r,2),s=i[0],u=i[1],d=Object(n.useState)([]),m=Object(c.a)(d,2),p=m[0],b=m[1],C=Object(n.useState)({display:!1,fileName:"",regionCases:""}),j=Object(c.a)(C,2),O=j[0],N=j[1],T=Object(n.useState)({display:!1,areaName:""}),S=Object(c.a)(T,2),R=S[0],A=S[1];return Object(n.useEffect)((function(){fetch("/uk-covid/covid_data/uk_totals.json").then((function(e){200===e.status?e.json().then((function(e){o(e)})):console.log("There was a problem: ".concat(e.status))})),fetch("/uk-covid/covid_data/uk_by_region.json").then((function(e){200===e.status?e.json().then((function(e){b(e)})):console.log("There was a problem: ".concat(e.status))}))}),[]),l.a.createElement(h.a,{"data-tip":""},l.a.createElement(y.a,null,l.a.createElement(k.a,null,l.a.createElement("h1",null,"England Covid-19 Tracker"))),null===t?null:l.a.createElement(M,{borderColors:D,backgroundColors:_,labels:x,cases:t}),l.a.createElement(y.a,null,l.a.createElement(k.a,null,l.a.createElement(g,{setTooltipContent:u,areaCases:p,Regional:O,toggleDisplayRegional:N,secondaryTable:R,setSecondaryTable:A}),l.a.createElement(E.a,null,s)),l.a.createElement(k.a,null,l.a.createElement(v,{areaCases:p,toggleDisplayRegional:N,secondaryTable:R,setSecondaryTable:A}))),l.a.createElement(y.a,null,null===t?null:D.map((function(e,a){return l.a.createElement(w,{borderColor:D[a],backgroundColor:_[a],label:x[a],date:t.Date,data:t[Object.keys(t)[a]],display:!0,height:200,width:700})}))," "),l.a.createElement(y.a,null,l.a.createElement(f.a,{style:{backgroundColor:"White",color:"black"},onClick:function(){return window.open("https://www.github.com/tkhokhar25/uk-covid")}},l.a.createElement("img",{src:"/uk-covid/logo32.png",alt:"yolo"}),"Check out on Github")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(377);var L=t(183);r.a.render(l.a.createElement(L.a,{basename:"/uk-covid"},l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.09fe4fb3.chunk.js.map