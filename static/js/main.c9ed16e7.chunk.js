(this["webpackJsonpuk-covid"]=this["webpackJsonpuk-covid"]||[]).push([[0],{130:function(e,t){},231:function(e,t,a){e.exports=a(431)},236:function(e,t,a){},241:function(e,t){},243:function(e,t){},275:function(e,t){},276:function(e,t){},431:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(90),r=a.n(l),i=(a(236),a(27)),c=a(224),s=a(47),u=a(444),d=a(446),m=a(71),p=a(42),h=a(445),f=function(e){var t=e.fileName,a=e.regionCases,l=e.setTooltipContent,r=Object(n.useState)([]),c=Object(i.a)(r,2),h=c[0],f=c[1];Object(n.useEffect)((function(){fetch("/uk-covid/maps/"+t+".json").then((function(e){200===e.status?e.json().then((function(e){f(Object(m.feature)(e,e.objects.x).features)})):console.log("There was a problem: ".concat(e.status))}))}),[t]);var E=function(e){console.log(h[e].properties.lad19nm)},g=Object(s.a)().fitSize([800,800],{type:"FeatureCollection",features:h}),b=Object(d.a)().domain([50,100,200,500,1e3,5e3]).range(u.a[7]);return o.a.createElement("div",{style:{width:"500px",height:"500px"}},o.a.createElement(p.ComposableMap,{width:800,height:800,projection:g},o.a.createElement(p.Geographies,{geography:h},(function(e){return e.geographies.map((function(e,t){return o.a.createElement(p.Geography,{key:e.rsmKey,geography:e,onMouseEnter:function(){var t=e.properties.lad19nm in a?a[e.properties.lad19nm]:"0";l("".concat(e.properties.lad19nm,": ").concat(t," Cases"))},onMouseLeave:function(){l("")},fill:e.properties.lad19nm in a?b(a[e.properties.lad19nm]):b(0),onClick:function(){return E(t)},style:{default:{outline:"none",stroke:"#000000",strokeWidth:"0.5"},hover:{outline:"none",stroke:"#000000",strokeWidth:"2"},pressed:{outline:"none"}}})}))}))))},E=o.a.memo((function(e){var t=e.setTooltipContent,a=e.areaCases,l=e.Regional,r=e.toggleDisplayRegional,E=e.secondaryTable,g=e.setSecondaryTable,b=Object(n.useState)([]),y=Object(i.a)(b,2),k=y[0],C=y[1];Object(n.useEffect)((function(){fetch("/uk-covid/maps/phe_regions.json").then((function(e){200===e.status?e.json().then((function(e){C(Object(m.feature)(e,e.objects.eer).features)})):console.log("There was a problem: ".concat(e.status))}))}),[]);var j=function(e){var t=k[e].properties.EER13NM,n=t.replace(/ /g,"_");r({display:!0,fileName:n,regionCases:a[t].regional}),g({display:!0,areaName:t})},v=Object(s.a)().fitSize([20,20],{type:"FeatureCollection",features:k}),O=Object(d.a)().domain([1e3,1500,2e3,2500,5e3,15e3]).range(u.a[7]),w=function(){return o.a.createElement("div",{style:{width:"700px",height:"700px"}},o.a.createElement(p.ComposableMap,{width:20,height:20,projection:v},o.a.createElement(p.Geographies,{geography:k},(function(e){return e.geographies.map((function(e,n){return o.a.createElement(p.Geography,{key:e.rsmKey,geography:e,onMouseEnter:function(){t("".concat(e.properties.EER13NM,": ").concat(a[e.properties.EER13NM].total," Cases"))},onMouseLeave:function(){t("")},fill:e.properties.EER13NM in a?O(a[e.properties.EER13NM].total):O(0),onClick:function(){return j(n)},style:{default:{outline:"none",stroke:"#000000",strokeWidth:"0.01"},hover:{outline:"none",stroke:"#000000",strokeWidth:"0.05"},pressed:{outline:"none"}}})}))}))))},N=function(){return o.a.createElement("div",null,o.a.createElement(h.a,{color:"primary",onClick:function(){r({display:!1}),g(Object(c.a)({},E,{display:!1}))}},"BACK"),o.a.createElement(f,{fileName:l.fileName,regionCases:l.regionCases,setTooltipContent:t}))};return o.a.createElement("div",null,l.display?o.a.createElement(N,null):o.a.createElement(w,null))})),g=a(212),b=a(434),y=a(435),k=a(436),C=a(443),j=a(437),v=o.a.memo((function(e){var t=e.areaCases,a=e.toggleDisplayRegional,l=e.secondaryTable,r=e.setSecondaryTable;Object(n.useEffect)((function(){}),[]);return o.a.createElement(b.a,null,o.a.createElement(y.a,null,o.a.createElement(C.a,{color:"info"},"Click on a row to view the numbers for each UTLA in the Region!")),o.a.createElement(y.a,null,o.a.createElement(k.a,null,o.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Region"),o.a.createElement("th",null,"Number of Cases"))),o.a.createElement("tbody",null,Object.keys(t).map((function(e){return o.a.createElement("tr",{onClick:function(){return function(e){if(l.areaName===e){if(l.display)a({display:!1});else{var n=e.replace(/ /g,"_");a({display:!0,fileName:n,regionCases:t[e].regional})}r({display:!l.display,areaName:e})}else{r({display:!0,areaName:e});var o=e.replace(/ /g,"_");a({display:!0,fileName:o,regionCases:t[e].regional})}}(e)}},o.a.createElement("td",null,e),o.a.createElement("td",null,t[e].total))}))))),o.a.createElement(k.a,null,l.display?o.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,l.areaName),o.a.createElement("th",null,"Number of Cases"))),o.a.createElement("tbody",null,0===t.length?null:Object.keys(t[l.areaName].regional).map((function(e){return o.a.createElement("tr",null,o.a.createElement("td",null,e),o.a.createElement("td",null,t[l.areaName].regional[e]))})))):null)))})),O=a(214),w=function(e){var t=e.borderColor,a=e.backgroundColor,n=e.date,l=e.data,r=e.label,i=e.display,c=e.height,s=e.width;return o.a.createElement("div",{style:{borderColor:t,backgroundColor:a,height:c,width:s}},o.a.createElement(O.a,{data:{labels:n,datasets:[{label:r,fill:!1,borderColor:t,data:l,display:i}]},options:{legend:{display:i},maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawOnChartArea:!1,display:i},ticks:{autoSkip:!0,maxTicksLimit:7,display:i}}],yAxes:[{gridLines:{drawOnChartArea:!1,display:i},ticks:{autoSkip:!0,maxTicksLimit:7,callback:function(e){return"".concat(e/1e3,"k")},display:i}}]}}}))},N=a(438),T=a(439),x=a(440),S=a(441),R=o.a.memo((function(e){var t=e.borderColors,a=e.backgroundColors,l=e.labels,r=e.cases;return Object(n.useEffect)((function(){}),[]),o.a.createElement(y.a,null,a.map((function(e,a){return o.a.createElement(k.a,{style:{color:t[a]}},o.a.createElement(N.a,{style:{backgroundColor:e}},o.a.createElement(T.a,null,o.a.createElement(x.a,null,l[a]),o.a.createElement(S.a,null,r[Object.keys(r)[a]].slice(-1)[0]))))})))})),M=a(216),D=a(217),_=a(222),A=a(225),L=a(218),W=a.n(L),z=(a(416),[]);function G(e,t,a){this.x=e,this.y=t,this.sz=25,this.xspeed=Math.random(-2,2),this.yspeed=Math.random(-2,2),this.p5=a,this.update=function(){this.x+=this.xspeed,this.y+=this.yspeed},this.display=function(){a.fill(255),a.stroke(0),a.ellipse(this.x,this.y,this.sz,this.sz)},this.bounce=function(){(this.x>500||this.x<0)&&(this.xspeed*=-1),(this.y>500||this.y<0)&&(this.yspeed*=-1)}}n.Component;var B=["#ff073a","#3a07ff","grey"],F=["rgba(255,7,58,0.12549)","rgba(58,7,255,0.12549)","#DCDCDC"],K=["CONFIRMED","TESTED","DECEASED"],I=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(null),c=Object(i.a)(r,2),s=(c[0],c[1]),u=Object(n.useState)(""),d=Object(i.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)([]),C=Object(i.a)(f,2),j=C[0],O=C[1],N=Object(n.useState)({display:!1,fileName:"",regionCases:""}),T=Object(i.a)(N,2),x=T[0],S=T[1],M=Object(n.useState)({display:!1,areaName:""}),D=Object(i.a)(M,2),_=D[0],A=D[1];return Object(n.useEffect)((function(){fetch("/uk-covid/covid_data/uk_totals.json").then((function(e){200===e.status?e.json().then((function(e){l(e)})):console.log("There was a problem: ".concat(e.status))})),fetch("/uk-covid/covid_data/local_totals.json").then((function(e){200===e.status?e.json().then((function(e){s(e)})):console.log("There was a problem: ".concat(e.status))})),fetch("/uk-covid/covid_data/uk_by_region.json").then((function(e){200===e.status?e.json().then((function(e){O(e)})):console.log("There was a problem: ".concat(e.status))}))}),[]),o.a.createElement(b.a,{"data-tip":""},o.a.createElement(y.a,null,o.a.createElement(k.a,null,o.a.createElement("h1",null,"England Covid-19 Tracker"))),o.a.createElement(y.a,null,o.a.createElement(k.a,null,null===a?null:o.a.createElement(R,{borderColors:B,backgroundColors:F,labels:K,cases:a}),o.a.createElement(k.a,null,o.a.createElement(E,{setTooltipContent:p,areaCases:j,Regional:x,toggleDisplayRegional:S,secondaryTable:_,setSecondaryTable:A}),o.a.createElement(g.a,null,m))),o.a.createElement(k.a,null,o.a.createElement(v,{areaCases:j,toggleDisplayRegional:S,secondaryTable:_,setSecondaryTable:A}))),o.a.createElement(y.a,null,null===a?null:B.map((function(e,t){return o.a.createElement(w,{borderColor:B[t],backgroundColor:F[t],label:K[t],date:a.Date,data:a[Object.keys(a)[t]],display:!0,height:200,width:700})}))),o.a.createElement(y.a,null,o.a.createElement(h.a,{style:{backgroundColor:"White",color:"black"},onClick:function(){return window.open("https://www.github.com/tkhokhar25/uk-covid")}},o.a.createElement("img",{src:"/uk-covid/logo32.png",alt:"yolo"}),"Check out on Github")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(427);var J=a(221);r.a.render(o.a.createElement(J.a,{basename:"/uk-covid"},o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[231,1,2]]]);
//# sourceMappingURL=main.c9ed16e7.chunk.js.map