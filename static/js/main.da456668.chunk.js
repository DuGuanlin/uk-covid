(this["webpackJsonpuk-covid"]=this["webpackJsonpuk-covid"]||[]).push([[0],{195:function(e,t,a){e.exports=a(389)},200:function(e,t,a){},205:function(e,t){},207:function(e,t){},240:function(e,t){},241:function(e,t){},389:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(80),r=a.n(l),i=(a(200),a(15)),c=a(42),s=a(40),u=a(402),d=a(404),p=a(64),m=a(37),f=a(403),h=o.a.memo((function(e){var t=e.fileName,a=e.regionCases,l=e.regionName,r=e.setTooltipContent,c=e.setGraphData,f=e.localCases,h=Object(n.useState)([]),E=Object(i.a)(h,2),g=E[0],y=E[1];Object(n.useEffect)((function(){fetch("/uk-covid/maps/"+t+".json").then((function(e){200===e.status?e.json().then((function(e){y(Object(p.feature)(e,e.objects.x).features)})):console.log("There was a problem: ".concat(e.status))}))}),[t]);var b=Object(s.a)().fitSize([800,800],{type:"FeatureCollection",features:g}),v=Object(d.a)().domain([50,100,200,500,1e3,5e3]).range(u.a[7]);return o.a.createElement("div",null,o.a.createElement(m.ComposableMap,{width:800,height:800,projection:b},o.a.createElement(m.Geographies,{geography:g},(function(e){return e.geographies.map((function(e,t){return o.a.createElement(m.Geography,{key:e.rsmKey,geography:e,onMouseEnter:function(){var t=e.properties.lad19nm in a?a[e.properties.lad19nm]:"0";r("".concat(e.properties.lad19nm,": ").concat(t," Cases")),c({display:!0,data:f[l][e.properties.lad19nm]})},onMouseLeave:function(){r(""),c({display:!1,data:[0]})},fill:e.properties.lad19nm in a?v(a[e.properties.lad19nm]):v(0),onClick:function(){var t=e.properties.lad19nm in a?a[e.properties.lad19nm]:"0";r("".concat(e.properties.lad19nm,": ").concat(t," Cases")),c({display:!0,data:f[l][e.properties.lad19nm]})},style:{default:{outline:"none",stroke:"#000000",strokeWidth:"0.5"},hover:{outline:"none",stroke:"#000000",strokeWidth:"2"},pressed:{outline:"none"}}})}))}))))})),E=o.a.memo((function(e){var t=e.setTooltipContent,a=e.areaCases,l=e.Regional,r=e.toggleDisplayRegional,E=e.secondaryTable,g=e.setSecondaryTable,y=e.setGraphData,b=e.localCases,v=Object(n.useState)([]),k=Object(i.a)(v,2),x=k[0],C=k[1];Object(n.useEffect)((function(){fetch("/uk-covid/maps/phe_regions.json").then((function(e){200===e.status?e.json().then((function(e){C(Object(p.feature)(e,e.objects.eer).features)})):console.log("There was a problem: ".concat(e.status))}))}),[]);var j=function(e){var n=x[e].properties.EER13NM,o=n.replace(/ /g,"_");t(""),y({display:!0,data:b.Totals[x[e].properties.EER13NM]}),r({display:!0,fileName:o,regionCases:a[n].regional,regionName:n}),g({display:!0,areaName:n})},w=Object(s.a)().fitSize([800,800],{type:"FeatureCollection",features:x}),T=Object(d.a)().domain([1e3,1500,2e3,2500,5e3,15e3]).range(u.a[7]),O=function(){return o.a.createElement("div",null,o.a.createElement(m.ComposableMap,{width:800,height:800,projection:w},o.a.createElement(m.Geographies,{geography:x},(function(e){return e.geographies.map((function(e,n){return o.a.createElement(m.Geography,{key:e.rsmKey,geography:e,onMouseEnter:function(){t("".concat(e.properties.EER13NM,": ").concat(a[e.properties.EER13NM].total," Cases")),y({display:!0,data:b.Totals[e.properties.EER13NM]})},onMouseLeave:function(){t(""),y({display:!1,data:[]})},fill:e.properties.EER13NM in a?T(a[e.properties.EER13NM].total):T(0),onClick:function(){return j(n)},style:{default:{outline:"none",stroke:"#000000",strokeWidth:"0.5"},hover:{outline:"none",stroke:"#000000",strokeWidth:"2"},pressed:{outline:"none"}}})}))}))))},S=function(){return o.a.createElement("div",null,o.a.createElement(f.a,{color:"primary",onClick:function(){r({display:!1}),g(Object(c.a)({},E,{display:!1}))}},"BACK"),o.a.createElement(h,{fileName:l.fileName,regionCases:l.regionCases,regionName:l.regionName,setTooltipContent:t,setGraphData:y,localCases:b}))};return o.a.createElement("div",{style:{height:"600px",marginTop:"25px"}},l.display?o.a.createElement(S,null):o.a.createElement(O,null))})),g=a(181),y=a(392),b=a(393),v=a(394),k=a(401),x=a(395),C=o.a.memo((function(e){var t=e.areaCases,a=e.toggleDisplayRegional,l=e.secondaryTable,r=e.setSecondaryTable;Object(n.useEffect)((function(){}),[]);return o.a.createElement(y.a,null,o.a.createElement(b.a,null,o.a.createElement(k.a,{color:"info"},"Click on a row to view the numbers for each UTLA in the Region!")),o.a.createElement(b.a,null,l.display?o.a.createElement(v.a,null,o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,l.areaName),o.a.createElement("th",null,"Number of Cases"))),o.a.createElement("tbody",null,0===t.length?null:Object.keys(t[l.areaName].regional).map((function(e){return o.a.createElement("tr",null,o.a.createElement("td",null,e),o.a.createElement("td",null,t[l.areaName].regional[e]))}))))):o.a.createElement(v.a,{xs:"12"},o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Region"),o.a.createElement("th",null,"Number of Cases"))),o.a.createElement("tbody",null,Object.keys(t).map((function(e){return o.a.createElement("tr",{onClick:function(){return function(e){if(l.areaName===e){if(l.display)a({display:!1});else{var n=e.replace(/ /g,"_");a({display:!0,fileName:n,regionName:e,regionCases:t[e].regional})}r({display:!l.display,areaName:e})}else{r({display:!0,areaName:e});var o=e.replace(/ /g,"_");a({display:!0,fileName:o,regionName:e,regionCases:t[e].regional})}}(e)}},o.a.createElement("td",null,e),o.a.createElement("td",null,t[e].total))})))))))})),j=a(183),w=function(e){var t=e.borderColor,a=e.backgroundColor,n=e.date,l=e.data,r=e.label,i=e.display,c=e.height,s=e.width;return o.a.createElement(v.a,{xs:"12",style:{borderColor:t,backgroundColor:a,height:c,width:s,marginTop:"25px",marginBottom:"25px"}},o.a.createElement(j.a,{data:{labels:n,datasets:[{label:r,fill:!1,borderColor:t,data:l,display:i}]},options:{legend:{display:i},maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawOnChartArea:!1,display:i},ticks:{autoSkip:!0,maxTicksLimit:7,display:i}}],yAxes:[{gridLines:{drawOnChartArea:!1,display:i},ticks:{autoSkip:!0,maxTicksLimit:7,callback:function(e){return"".concat(e/1e3,"k")},display:i}}]}}}))},T=a(396),O=a(397),S=a(398),N=a(399),M=o.a.memo((function(e){var t=e.borderColors,a=e.backgroundColors,l=e.labels,r=e.cases;return Object(n.useEffect)((function(){}),[]),o.a.createElement(b.a,null,a.map((function(e,a){return o.a.createElement(v.a,{xs:"4",md:"2",style:{color:t[a]}},o.a.createElement(T.a,{style:{backgroundColor:e}},o.a.createElement(O.a,null,o.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},l[a]),o.a.createElement(N.a,null,r[Object.keys(r)[a]].slice(-1)[0]))))})))})),R=a(118),D=a.n(R),A=(a(382),a(66)),B=a.n(A),F=a(53),L=F.isMobile?window.innerWidth:800,W=F.isMobile?.75*window.innerHeight:600,I=Math.hypot,_=function(e){var t=e.dx,a=e.dy,n=I(t,a);return{ax:t/n,ay:a/n}},G=function(e){var t=e.dx,a=e.dy,n=e.diameter;return t*t+a*a<n*n};function z(e,t){var a=this;this.x=Math.floor(Math.random()*L+1),this.y=Math.floor(Math.random()*W+1),this.color="blue",this.sz=15,this.xspeed=Math.random(),this.yspeed=Math.random(),this.p=e,this.exposedTime=0,this.infectedTime=0,this.update=function(){"grey"===a.color&&(a.xspeed=0,a.yspeed=0),a.x+=a.xspeed,a.y+=a.yspeed},this.display=function(){if("orange"===a.color)a.exposedTime+=1,a.exposedTime>=200&&(Math.floor(100*Math.random()+1)<t.exposedToInfected?a.color="green":a.color="pink");else if("green"===a.color){if(a.infectedTime+=1,a.infectedTime>=200)Math.floor(100*Math.random()+1)<t.infectedToRecovers?a.color="pink":a.color="grey"}e.fill(a.color),e.noStroke(),e.ellipse(a.x,a.y,a.sz,a.sz)},this.bounce=function(){(a.x>L||a.x<0)&&(a.xspeed*=-1),(a.y>W||a.y<0)&&(a.yspeed*=-1)},this.checkCollisions=function(e,t){for(var n=t+1;n<e.length;n++){var o=e[n],l=o.x-a.x,r=o.y-a.y;if(G({dx:l,dy:r,diameter:15})){var i=_({dx:l,dy:r}),c=i.ax,s=i.ay;a.xspeed-=c,a.yspeed-=s,o.xspeed=c,o.yspeed=s,"green"!==a.color&&"orange"!==a.color||"blue"!==o.color?"green"!==o.color&&"orange"!==o.color||"blue"!==a.color||(a.color="orange"):o.color="orange"}}}}var H=window.innerHeight>window.innerWidth?.9*window.innerWidth:800,K=F.isMobile?.75*window.innerHeight:600,P=[];function U(e){e.setup=function(){e.createCanvas(H,60)},e.draw=function(){e.background("#FFFFFF"),e.textSize(20),e.fill("blue"),e.noStroke(),e.ellipse(15,10,15,15),e.text("Healthy",30,17),e.fill("orange"),e.noStroke(),e.ellipse(130,10,15,15),e.text("Exposed",145,17),e.fill("green"),e.noStroke(),e.ellipse(245,10,15,15),e.text("Infected",260,17),F.isMobile?(e.fill("pink"),e.noStroke(),e.ellipse(15,40,15,15),e.text("Recovered",30,47),e.fill("grey"),e.noStroke(),e.ellipse(145,40,15,15),e.text("Deceased",160,47)):(e.fill("pink"),e.noStroke(),e.ellipse(360,10,15,15),e.text("Recovered",375,17),e.fill("grey"),e.noStroke(),e.ellipse(490,10,15,15),e.text("Deceased",505,17)),e.noLoop()}}var J=o.a.memo((function(e){var t=e.setDisplaySimulator,a=Object(n.useState)({numBalls:200,initiallyExposed:1,exposedToInfected:80,infectedToRecovers:80}),l=Object(i.a)(a,2),r=l[0],s=l[1];return o.a.createElement(y.a,null,o.a.createElement(b.a,{style:{padding:"25px"}},o.a.createElement("p",null,o.a.createElement("h1",null,"SEIR DISEASE SPREAD MODEL USING BALLS"),o.a.createElement("h6",null,"A healthy person can get exposed to the virus."),o.a.createElement("h6",null,"An exposed person recovers or gets infected and can expose other people to the virus."),o.a.createElement("h6",null,"An infected person recovers or dies and can expose other people to the virus."))),o.a.createElement(b.a,{style:{paddingLeft:"25px",paddingBottom:"25px"}},o.a.createElement(f.a,{color:"primary",onClick:function(){return t(!1)}},o.a.createElement("h4",null,"View Map"))),o.a.createElement(b.a,null,o.a.createElement(v.a,null,o.a.createElement(D.a,{sketch:function(e){return function(e,t){e.setup=function(){e.createCanvas(H,K);for(var a=0;a<t.numBalls;a++)P[a]=new z(e,t);for(a=0;a<t.initiallyExposed;a++)P[a].color="orange"},e.draw=function(){e.background("#FFFFFF");for(var t=0;t<P.length;t++)P[t].update(),P[t].display(),P[t].bounce(),P[t].checkCollisions(P,t)}}(e,r)}}),o.a.createElement(D.a,{sketch:U})),o.a.createElement(v.a,null,o.a.createElement("div",null,o.a.createElement("p",null,"Number of balls"),o.a.createElement(B.a,{max:400,value:r.numBalls,onChange:function(e){return s(Object(c.a)({},r,{numBalls:e.target.value}))}})),o.a.createElement("div",null,o.a.createElement("p",null,"Number of initially exposed balls"),o.a.createElement(B.a,{max:r.numBalls,value:r.initiallyExposed,onChange:function(e){return s(Object(c.a)({},r,{initiallyExposed:e.target.value}))}})),o.a.createElement("div",null,o.a.createElement("p",null,"Percent of exposed population that gets infected"),o.a.createElement(B.a,{value:r.exposedToInfected,onChange:function(e){return s(Object(c.a)({},r,{exposedToInfected:e.target.value}))}})),o.a.createElement("div",null,o.a.createElement("p",null,"Percent of infected population that recovers"),o.a.createElement(B.a,{value:r.infectedToRecovers,onChange:function(e){return s(Object(c.a)({},r,{infectedToRecovers:e.target.value}))}})),o.a.createElement("div",{style:{paddingBottom:"25px"}},o.a.createElement(f.a,{color:"primary",onClick:function(){return s({numBalls:200,initiallyExposed:1,exposedToInfected:80,infectedToRecovers:80})}},"RESET AND RUN")))))})),V=["#ff073a","#3a07ff","grey"],$=["rgba(255,7,58,0.12549)","rgba(58,7,255,0.12549)","#DCDCDC"],q=["CONFIRMED","TESTED","DECEASED"],Q=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),c=Object(i.a)(r,2),s=c[0],u=c[1],d=Object(n.useState)([]),p=Object(i.a)(d,2),m=p[0],h=p[1],k=Object(n.useState)(null),x=Object(i.a)(k,2),j=x[0],T=x[1],O=Object(n.useState)({data:[],display:!1}),S=Object(i.a)(O,2),N=S[0],R=S[1],D=Object(n.useState)({display:!1,fileName:"",regionCases:""}),A=Object(i.a)(D,2),B=A[0],F=A[1],L=Object(n.useState)({display:!1,areaName:""}),W=Object(i.a)(L,2),I=W[0],_=W[1],G=Object(n.useState)(!1),z=Object(i.a)(G,2),H=z[0],K=z[1];return Object(n.useEffect)((function(){fetch("/uk-covid/covid_data/uk_totals.json").then((function(e){200===e.status?e.json().then((function(e){l(e)})):console.log("There was a problem: ".concat(e.status))})),fetch("/uk-covid/covid_data/local_totals.json").then((function(e){200===e.status?e.json().then((function(e){T(e)})):console.log("There was a problem: ".concat(e.status))})),fetch("/uk-covid/covid_data/uk_by_region.json").then((function(e){200===e.status?e.json().then((function(e){h(e)})):console.log("There was a problem: ".concat(e.status))}))}),[]),o.a.createElement("div",{style:{maxWidth:window.innerWidth}},H?o.a.createElement(J,{setDisplaySimulator:K}):o.a.createElement(y.a,{"data-tip":""},o.a.createElement(b.a,{style:{paddingTop:"25px"}},o.a.createElement(v.a,{xs:"12",md:"6"},o.a.createElement("h1",null,"England Covid-19 Tracker")),o.a.createElement(v.a,{xs:"12",md:"6",style:{paddingBottom:"25px"}},o.a.createElement(f.a,{color:"primary",onClick:function(){return K(!0)}},o.a.createElement("h4",null,"View Simulator")))),o.a.createElement(b.a,null,o.a.createElement(v.a,null,null===a?null:o.a.createElement(M,{borderColors:V,backgroundColors:$,labels:q,cases:a})," ")),o.a.createElement(b.a,null,o.a.createElement(v.a,{xs:"12",md:"6"},o.a.createElement(E,{setTooltipContent:u,areaCases:m,Regional:B,toggleDisplayRegional:F,secondaryTable:I,setSecondaryTable:_,setGraphData:R,localCases:j}),o.a.createElement(g.a,null,s),N.display?o.a.createElement("h2",null,s):null,N.display?o.a.createElement(w,{borderColor:V[0],backgroundColor:$[0],label:q[0],date:j.Date,data:N.data,display:!0,height:200,width:700}):null,o.a.createElement("h2",null,"England Trends"),null===a?null:V.map((function(e,t){return o.a.createElement(w,{borderColor:V[t],backgroundColor:$[t],label:q[t],date:a.Date,data:a[Object.keys(a)[t]],display:!0,height:200,width:700})}))),o.a.createElement(v.a,{xs:"12",md:"6"},o.a.createElement(C,{areaCases:m,toggleDisplayRegional:F,secondaryTable:I,setSecondaryTable:_}))),o.a.createElement(b.a,null,o.a.createElement(v.a,{xs:"12",style:{paddingTop:"25px",paddingBottom:"25px"}},o.a.createElement(f.a,{style:{backgroundColor:"White",color:"black"},onClick:function(){return window.open("https://www.github.com/tkhokhar25/uk-covid")}},o.a.createElement("img",{src:"/uk-covid/logo32.png",alt:"yolo"}),"Check out on Github")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(385);var X=a(188);r.a.render(o.a.createElement(X.a,{basename:"/uk-covid"},o.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[195,1,2]]]);
//# sourceMappingURL=main.da456668.chunk.js.map